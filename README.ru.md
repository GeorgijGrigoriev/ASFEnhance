# ASFEnhance

[![Codacy Badge](https://app.codacy.com/project/badge/Grade/3d174e792fd4412bb6b34a77d67e5dea)](https://www.codacy.com/gh/chr233/ASFEnhance/dashboard)
![GitHub Workflow Status](https://img.shields.io/github/workflow/status/chr233/ASFEnhance/AutoBuild?logo=github)
[![License](https://img.shields.io/github/license/chr233/ASFEnhance?logo=apache)](https://github.com/chr233/ASFEnhance/blob/master/license)
![GitHub last commit](https://img.shields.io/github/last-commit/chr233/ASFEnhance?logo=github)

[![GitHub Release](https://img.shields.io/github/v/release/chr233/ASFEnhance?logo=github)](https://github.com/chr233/ASFEnhance/releases)
[![GitHub Release](https://img.shields.io/github/v/release/chr233/ASFEnhance?include_prereleases&label=pre-release&logo=github)](https://github.com/chr233/ASFEnhance/releases)
[![GitHub Download](https://img.shields.io/github/downloads/chr233/ASFEnhance/total?logo=github)](https://img.shields.io/github/v/release/chr233/ASFEnhance)

![GitHub Repo stars](https://img.shields.io/github/stars/chr233/ASFEnhance?logo=github)
[![Gitee Stars](https://gitee.com/chr_a1/ASFEnhance/badge/star.svg?theme=dark)](https://gitee.com/chr_a1/ASFEnhance/stargazers)

[![爱发电](https://img.shields.io/badge/爱发电-chr__-ea4aaa.svg?logo=github-sponsors)](https://afdian.net/@chr233)
[![Bilibili](https://img.shields.io/badge/bilibili-Chr__-00A2D8.svg?logo=bilibili)](https://space.bilibili.com/5805394)
[![Steam](https://img.shields.io/badge/steam-Chr__-1B2838.svg?logo=steam)](https://steamcommunity.com/id/Chr_)

[![Steam](https://img.shields.io/badge/steam-donate-1B2838.svg?logo=steam)](https://steamcommunity.com/tradeoffer/new/?partner=221260487&token=xgqMgL-i)

[中文说明](README.md) | [English Version](README.en.md)

## ЛИЦЕНЗИОННОЕ СОГЛАШЕНИЕ

> Пожалуйста, не используйте этот плагин для отвратительного поведения, включая, но не ограничиваясь: публикацией фейковых отзывов, размещением рекламы и т.д.
>
> Смотри [Конфигурацию Плагина](#конфигурация-плагина)

## КОМАНДЫ СОБЫТИЙ

| Команда       | Доступ     | Описание                                 |
| ------------- | ---------- | ---------------------------------------- |
| `SIM4 [Bots]` | `Operator` | Получить стикеры `The Sims™ 4`           |
| `DL2 [Bots]`  | `Operator` | Получить вещи `Dying Light 2 Stay Human` |
| `DECK [Bots]` | `Operator` | 获取 `Steam Deck` 贴纸                   |

## Установка

Скачать нужный архив в [GitHub Releases](https://github.com/chr233/ASFEnhance/releases).
Для русского языка скачать файл `ASFEnhance-ru-RU.zip`

> Распакуйте файл `ASFEnhance.dll` и скопируйте его в папку `plugins` в дирректории с установленным ASF

## Поддержка Версий

> Используйте команду `ASFEVERSION` или `AV`, чтобы проверить последнюю версию ASFEhance
>
> Используйте команду `ASFEUPDATE` или `AU` для автоматического обновления ASFEhance (возможно, потребуется ручной перезапуск ASF)
>
> Знак \* означает, что ASFEnhance теоретически совместим с ASF, но не тестировался.

| Версия ASFEnhance                                                      | Совместимая версия ASF | Описание                     |
| ---------------------------------------------------------------------- | ---------------------- | ---------------------------- |
| [1.6.23.0](https://github.com/chr233/ASFEnhance/releases/tag/1.6.23.0) | 5.3.2.4                | 新增`DECK`命令               |
| [1.6.22.1](https://github.com/chr233/ASFEnhance/releases/tag/1.6.22.1) | 5.3.2.4                | Приказ об устранении осень   |
| [1.6.21.6](https://github.com/chr233/ASFEnhance/releases/tag/1.6.21.6) | 5.3.2.4                | Поддерживать русский язык    |
| [1.6.20.1](https://github.com/chr233/ASFEnhance/releases/tag/1.6.20.1) | 5.3.2.4                | Добавлены команды распродажи |

<details>
  <summary>История версий</summary>

| Версия ASFEnhance                                                          | Зависит от ASF | 5.2.6.3 | 5.2.7.7 | 5.2.8.4 | 5.3.0.3 | 5.3.1.2 | 5.3.2.4 |
| -------------------------------------------------------------------------- | -------------- | ------- | ------- | ------- | ------- | ------- | ------- |
| [1.6.19.4](https://github.com/chr233/ASFEnhance/releases/tag/1.6.19.4)     | 5.3.2.4        | ❌      | ❌      | ❌      | ❌      | ❌      | ✔️      |
| [1.6.18.1](https://github.com/chr233/ASFEnhance/releases/tag/1.6.18.1)     | 5.3.2.4        | ❌      | ❌      | ❌      | ❌      | ❌      | ✔️      |
| [1.6.18.0](https://github.com/chr233/ASFEnhance/releases/tag/1.6.18.0)     | 5.3.1.2        | ❌      | ❌      | ❌      | ✔️      | ✔️      |         |
| [1.6.16.0](https://github.com/chr233/ASFEnhance/releases/tag/1.6.16.0)     | 5.3.1.2        | ❌      | ❌      | ❌      | ✔️      | ✔️      |         |
| [1.6.15.0](https://github.com/chr233/ASFEnhance/releases/tag/1.6.15.0)     | 5.3.1.2        | ❌      | ❌      | ❌      | ✔️      | ✔️      |         |
| [1.6.14.0](https://github.com/chr233/ASFEnhance/releases/tag/1.6.14.0)     | 5.3.1.2        | ❌      | ❌      | ❌      | ✔️      | ✔️      |         |
| [1.6.12.717](https://github.com/chr233/ASFEnhance/releases/tag/1.6.12.717) | 5.3.1.2        | ❌      | ❌      | ❌      | ✔️      | ✔️      |         |
| [1.6.11.670](https://github.com/chr233/ASFEnhance/releases/tag/1.6.11.670) | 5.3.1.2        | ❌      | ❌      | ❌      | ✔️      | ✔️      |         |
| [1.6.10.666](https://github.com/chr233/ASFEnhance/releases/tag/1.6.10.666) | 5.3.0.3        | ❌      | ❌      | ❌      | ✔️      | ✔️\*    |         |
| [1.6.9.663](https://github.com/chr233/ASFEnhance/releases/tag/1.6.9.663)   | 5.2.8.4        | ❌      | ❌      | ✔️      | ❌      |         |         |
| [1.6.8.661](https://github.com/chr233/ASFEnhance/releases/tag/1.6.8.661)   | 5.2.7.7        | ❌      | ✔️      |         |         |         |         |

</details>

## Конфигурация Плагина

ASF.json

```json
{
  //ASF Configuration
  "CurrentCulture": "...",
  "IPCPassword": "...",

  //ASFEnhance Configuration
  "ASFEnhance": {
    "EULA": true,
    "Statistic": true,
    "DevFeature": false
  }
}
```

| Конфигурация | Тип    | По умолчанию | Описание                                                                                                                                                   |
| ------------ | ------ | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `EULA`       | `bool` | `true`       | Если согласны с [лицензионным соглашением](#лицензионное-соглашение)\*                                                                                     |
| `Statistic`  | `bool` | `true`       | Разрешить отправку данных для статистики. Они используются для подсчета количества пользователей, при этом никакой другой информации отправляться не будет |
| `DevFeature` | `bool` | `false`      | Включить функции [разработчика (3 команды)](#для-разработчика) `Может представить угрозу безопасности, включайте осмысленно`                               |

> \* Если согласны с [лицензионным соглашением](#лицензионное-соглашение), то в ASFEnhance будут доступны все команды, в обмен на это, при использовании команд `GROUPLIST` и `CURATORLIST`, ASFEnhance подпишется на [Куратора](https://store.steampowered.com/curator/39487086/) и [Группу](https://steamcommunity.com/groups/11012580) (если бот не подписался или не присоединился)
>
> \* Если не согласны с [лицензионным соглашением](#лицензионное-соглашение), то ASFEnhance ограничит возможности curator/follow game/group/reviews, и ASFEnhance не подпишется на [Куратора](https://store.steampowered.com/curator/39487086/) и [Группу](https://steamcommunity.com/groups/11012580)

## Использование Команд

### Команды Обновления

| Команда       | Сокращение | Доступ          | Описание                                                                  |
| ------------- | ---------- | --------------- | ------------------------------------------------------------------------- |
| `ASFENHANCE`  | `ASFE`     | `FamilySharing` | Получить версию ASFEnhance                                                |
| `ASFEVERSION` | `AV`       | `Owner`         | Проверить последнюю версию ASFEnhance                                     |
| `ASFEUPDATE`  | `AU`       | `Owner`         | Обновить ASFEnhance до последней версии (необходим ручной перезапуск ASF) |

### Команды Аккаунта

| Команда                          | Сокращение | Доступ     | Описание                                        |
| -------------------------------- | ---------- | ---------- | ----------------------------------------------- |
| `PURCHASEHISTORY [Bots]`         | `PH`       | `Operator` | Get bot's purchase history.                     |
| `FREELICENSES [Bots]`            | `FL`       | `Operator` | Get bot's all free sub licenses list            |
| `FREELICENSE [Bots]`             |            |            | Same as `FREELICENSES`                          |
| `LICENSES [Bots]`                | `L`        | `Operator` | Get bot's all licenses list                     |
| `LICENSE [Bots]`                 |            |            | Same as `LICENSES`                              |
| `REMOVEDEMOS [Bots]`             | `RD`       | `Master`   | Remove bot's all demo licenses                  |
| `REMOVEDEMO [Bots]`              |            |            | Same as `REMOVEDEMOS`                           |
| `REMOVELICENSES [Bots] <SubIDs>` | `RL`       | `Master`   | Remove bot's licenses with the specified subIDs |
| `REMOVELICENSE [Bots] <SubIDs>`  |            |            | Same as `REMOVELICENSES`                        |

### Остальные Команды

| Команда          | Сокращение | Доступ          | Описание                          |
| ---------------- | ---------- | --------------- | --------------------------------- |
| `KEY <Text>`     | `K`        | `Any`           | Извлечь ключи из текста           |
| `ASFEHELP`       | `EHELP`    | `FamilySharing` | Получить все использования команд |
| `HELP <Command>` | -          | `FamilySharing` | Получить использование команды    |

## Group Commands

| Команда                       | Сокращение | Доступ          | Описание                         |
| ----------------------------- | ---------- | --------------- | -------------------------------- |
| `GROUPLIST [Bots]`            | `GL`       | `FamilySharing` | Get bot's joined group list      |
| `JOINGROUP [Bots] <GroupUrl>` | `JG`       | `Master`        | Let bot to join specified group  |
| `LEAVEGROUP [Bots] <GroupID>` | `LG`       | `Master`        | Let bot to leave specified group |

> `GroupID` can be found using `GROUPLIST` command

## Команды Профиля

| Команда              | Сокращение | Доступ          | Описание                     |
| -------------------- | ---------- | --------------- | ---------------------------- |
| `PROFILE [Bots]`     | `PF`       | `FamilySharing` | Get bot's profile infomation |
| `PROFILELINK [Bots]` | `PFL`      | `FamilySharing` | Get bot's profile link       |
| `STEAMID [Bots]`     | `SID`      | `FamilySharing` | Get bot's steamID            |
| `FRIENDCODE [Bots]`  | `FC`       | `FamilySharing` | Get bot's friend code        |
| `TRADELINK [Bots]`   | `TL`       | `Operator`      | Get bot's trade link         |

### Команды Куратора

| Команда                          | Сокращение | Доступ   | Описание                         |
| -------------------------------- | ---------- | -------- | -------------------------------- |
| `CURATORLIST [Bots]`             | `CL`       | `Master` | Get bot's following curator list |
| `FOLLOWCURATOR [Bots] <ClanIDs>` | `FC`       | `Master` | Follow specified curator         |
| `UNFOLLOWCURATOR [Bots]`         | `UFC`      | `Master` | Unfollow specified curator       |

> `ClanID` можно найти по веб-ссылке куратора или с помощью команды `CURATORLIST`

### Команды Списка Желаний

| Команда                          | Сокращение | Доступ   | Описание                                       |
| -------------------------------- | ---------- | -------- | ---------------------------------------------- |
| `ADDWISHLIST [Bots] <AppIDs>`    | `AW`       | `Master` | Add game to bot's wishlist                     |
| `REMOVEWISHLIST [Bots] <AppIDs>` | `RW`       | `Master` | Delete game from bot's wishlist                |
| `FOLLOWGAME [Bots] <AppIDs>`     | `FG`       | `Master` | Follow specified game                          |
| `UNFOLLOWGAME [Bots] <AppIDs>`   | `UFG`      | `Master` | Unfollow specified game                        |
| `CHECK [Bots] <AppIDs>`          | `CK`       | `Master` | Check if following / wishlisted specified game |

### Команды Магазина

| Команда                                    | Сокращение | Доступ     | Описание                                                                             |
| ------------------------------------------ | ---------- | ---------- | ------------------------------------------------------------------------------------ |
| `APPDETAIL [Bots] <AppIDs>`                | `AD`       | `Operator` | Get app detail from steam API, support `APP`                                         |
| `SEARCH [Bots] Keywords`                   | `SS`       | `Operator` | Search in Steam store                                                                |
| `SUBS [Bots] <AppIDs\|SubIDs\|BundleIDs>`  | `S`        | `Operator` | Get available subs from store page, support `APP/SUB/BUNDLE`                         |
| `PUBLISHRECOMMENT [Bots] <AppIDs> COMMENT` | `PREC`     | `Operator` | Publish a recomment for game, if appID > 0 it will rateUp, or if appId < 0 rateDown  |
| `DELETERECOMMENT [Bots] <AppIDs>`          | `DREC`     | `Operator` | Delete a recomment for game                                                          |
| `REQUESTACCESS [Bots] <AppIDs>`            | `RA`       | `Operator` | Send join playtest request to specified appIDs, equivalent to click `Request Access` |

### Команды Корзины

> Steam сохраняет информацию о корзине покупок с помощью файлов cookie, перезапуск экземпляра бота приведет к очистке корзины

| Команда                              | Сокращение | Доступ     | Описание                                                                       |
| ------------------------------------ | ---------- | ---------- | ------------------------------------------------------------------------------ |
| `CART [Bots]`                        | `C`        | `Operator` | Get bot's cart information                                                     |
| `ADDCART [Bots] <SubIDs\|BundleIDs>` | `AC`       | `Operator` | Add game to bot's cart, only support `SUB/BUNDLE`                              |
| `CARTRESET [Bots]`                   | `CR`       | `Operator` | Clear bot's cart                                                               |
| `CARTCOUNTRY [Bots]`                 | `CC`       | `Operator` | Get bot's available currency area (Depends to wallet area and the IP location) |
| `SETCOUNTRY [Bots] <CountryCode>`    | `SC`       | `Operator` | Set bot's currency area (NOT WORKING, WIP)                                     |
| `PURCHASE [Bots]`                    | `PC`       | `Master`   | Purchase bot's cart items for it self (paid via steam wallet)                  |
| `PURCHASEGIFT [BotA] BotB`           | `PCG`      | `Master`   | Purchase botA's cart items for botB as gift (paid via steam wallet)            |

> Steam позволяет дублировать покупки, пожалуйста, проверьте корзину перед использованием команды `PURCHASE`.

### Команды Очереди Обнаружения

| Команда           | Сокращение | Доступ   | Описание                                                              |
| ----------------- | ---------- | -------- | --------------------------------------------------------------------- |
| `EXPLORER [Bots]` | `EX`       | `Master` | Вызвать задачу ASF "проверки событий распродажи Steam" через 5 секунд |

> Пожалуйста, попробуйте разрешить ASF проверку событий распродажи Steam самостоятельно, эта команда используется для мгновенного вызова задачи ASF

### Псевдоним Команд ASF

| Сокращение             | Equivalent Command             | Описание                       |
| ---------------------- | ------------------------------ | ------------------------------ |
| `AL [Bots] <Licenses>` | `ADDLICENSE [Bots] <Licenses>` | Add free `SUB`                 |
| `LA`                   | `LEVEL ASF`                    | Get All bot's level            |
| `BA`                   | `BALANCE ASF`                  | Get All bot's wallet balance   |
| `PA`                   | `POINTS ASF`                   | Get All bot's points balance   |
| `P [Bots]`             | `POINTS`                       | Get bot's points balance       |
| `CA`                   | `CART ASF`                     | Get All bot's cart information |

### Для Разработчика

> Эта группа команд по умолчанию отключена.
> Вам необходимо добавить `"DevFeature": true` в `ASF.json` для активации.

| Команда              | Доступ   | Описание                          |
| -------------------- | -------- | --------------------------------- |
| `COOKIES [Bots]`     | `Master` | Получить `Cookies` магазина Steam |
| `APIKEY [Bots]`      | `Master` | Получить `APIKey` бота            |
| `ACCESSTOKEN [Bots]` | `Master` | Получить `ACCESSTOKEN` бота       |

## IPC Интерфейс

> Вы должны принять [лицензионное соглашение](#лицензионное-соглашение) перед использованием интерфейса IPC. Смотри [Конфигурацию Плагина](#конфигурация-плагина)

| API                                            | Метод  | Параметры                                          | Описание                                       |
| ---------------------------------------------- | ------ | -------------------------------------------------- | ---------------------------------------------- |
| `/Api/ASFEnhance/{botNames}/FollowCurator`     | `POST` | ClanIDs                                            | Подписаться на куратора                        |
| `/Api/ASFEnhance/{botNames}/UnFollowCurator`   | `POST` | ClanIDs                                            | Отписаться от куратора                         |
| `/Api/ASFEnhance/{botNames}/FollowingCurators` | `POST` | Start, Count                                       | Получить подписки на кураторов                 |
| `/Api/ASFEnhance/{botNames}/GetAppDetail`      | `POST` | AppIDs                                             | Получить информацию о приложении               |
| `/Api/ASFEnhance/{botNames}/Purchase`          | `POST` | SubIDs, BundleIDs, SkipOwned                       | Купить                                         |
| `/Api/ASFEnhance/{botNames}/PublishReview`     | `POST` | AppIDs, RateUp, AllowReply, ForFree,Public,Comment | Опубликовать отзыв                             |
| `/Api/ASFEnhance/{botNames}/DeleteReview`      | `POST` | AppIDs                                             | Удалить отзыв                                  |
| `/Api/ASFEnhance/{botNames}/AddWishlist`       | `POST` | AppIDs                                             | Добавить в Список желаний                      |
| `/Api/ASFEnhance/{botNames}/RemoveWishlist`    | `POST` | AppIDs                                             | Удалить из Списка желаний                      |
| `/Api/ASFEnhance/{botNames}/FollowGame`        | `POST` | AppIDs                                             | Подписаться на игру                            |
| `/Api/ASFEnhance/{botNames}/UnFollowGame`      | `POST` | AppIDs                                             | Отписаться от игры                             |
| `/Api/ASFEnhance/{botNames}/CheckGame`         | `POST` | AppIDs                                             | Проверить наличие Подписки/Списка желания игры |

---

[![Repobeats analytics image](https://repobeats.axiom.co/api/embed/df6309642cc2a447195c816473e7e54e8ae849f9.svg "Repobeats analytics image")](https://github.com/chr233/ASFEnhance/pulse)

---
